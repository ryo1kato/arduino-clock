## Arduino Blink "minute repeater" Clock

### 概要
光の点滅で時刻を知らせる時計で, 視力の悪い人が暗闇で眼鏡なしでも読める時計として便利です。
光センサーによって、環境光にあわせた丁度よい輝度に調整します。
[リピーター時計](https://ja.wikipedia.org/wiki/%E3%83%AA%E3%83%94%E3%83%BC%E3%82%BF%E3%83%BC_(%E6%99%82%E8%A8%88))の光バージョンです。

初期設定では、10分単位で時刻を読み取れますが, ソースコードを変更すれば比較的容易に15分単位(クオータリピータ)や1分単位(ミニッツリピーター)に改造できます。

### 時刻の読み方
点滅回数が

* 緑と赤のLEDが両方同時に点滅する回数で0, 3, 6, 9時のいずれかを表します。
    - 赤+緑 1 回 → 0 時
    - 赤+緑 2 回 → 3 時
    - 赤+緑 3 回 → 6 時
    - 赤+緑 4 回 → 9 時

* 緑のLEDのみの点滅する回数を 0, 3, 6, 9 に足します。
    - 例:  赤+緑で3回点滅し、更に赤のみ2回点滅  → 8時を表します

* 赤のLEDのみの点滅 → 回数かける 10 分が現在時刻の分の部分です。
    - 例:  緑が4回点滅 → 40分を表します


### 時刻の設定方法
ボタンを押し続けると、押している間、時間を進めます。進めた時間・分の回数分だけLEDが点滅します。通常の時刻表示の点滅よりもゆっくり点滅します。

* 「時間ボタン」を長押し → 時間を進めます。(緑が点滅)
* 「分ボタン」を長押し  → 分を進めます。(赤が点滅)
* ボタンを両方同時に長押し → 分を10分づつ進めます。(赤と緑の両方が点滅)

なお、ボタンは時刻設定の点滅(ゆっくりな点滅)が始まるまで押し続けてください。
(時刻表示の点滅の途中にボタンを押したばあい、時刻表示が全部完了するまで設定モードに入りません。)


### 時刻の保存について
* 電源を切ると、その時刻を保持します。次回電源を入れると以前の時刻から再開しますので、電源を切っていた時間の分だけ、時計が送れることになります。
(時刻の保存は1分単位なので, あまり正確ではありません)


### 必要な部品
* Arduino Uno, Micro, Nano またはその互換ボード
    - 例えば https://www.amazon.co.jp/dp/B01CZQANN0
* 赤色および緑色 LED (計２個)
    - 色はお好みで変更してください。
* LED用の電流制限抵抗器 1kΩ 程度 (２個)
    - LEDの明るさを調整する場合抵抗値を変更します
* フォトレジスタ(光センサ)
* 光センサ用抵抗器 1kΩ 程度 (1個)
* タクトスイッチ (２個)
    - 時刻合わせに使用します。


### ポートの割当
* D2  - 時間調整ボタン
* D3  - 分調整ボタン
* D9  - 分LED (赤)
* D10 - 時間LED (緑)
* A0  - 光センサの読み取り (0~1023)


